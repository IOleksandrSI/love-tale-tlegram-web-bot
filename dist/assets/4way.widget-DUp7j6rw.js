import{r as n,m as h,j as e,$ as X,a0 as ee,i as te,u as se,a1 as re,B as g,T as p,a2 as S,a as x,Z as oe,C as ae}from"./index-CxAWvqmu.js";import{I as le}from"./toggle-tip-JIUu8YTV.js";import{c as ne}from"./create-slot-recipe-context-C3A_zzuP.js";import{c as ce,b as d,u as ie,e as he,f as de,g as ue,n as pe,a as B}from"./use-environment-context-DSpo5du1.js";import{H as xe}from"./heading-OABqCFfR.js";import{V as me}from"./v-stack-D2J5fe1G.js";import{A as N,a as F,b as I,c as L,d as $}from"./alert-2VRbLC_Q.js";import"./portal-DdzAeCQy.js";const[E,D]=ce({name:"ProgressContext",hookName:"useProgressContext",providerName:"<ProgressProvider />"}),H=n.forwardRef((r,o)=>{const t=D(),a=h(t.getLabelProps(),r);return e.jsx(d.label,{...a,ref:o})});H.displayName="ProgressLabel";const z=n.forwardRef((r,o)=>{const t=D(),a=h(t.getRangeProps(),r);return e.jsx(d.div,{...a,ref:o})});z.displayName="ProgressRange";const ge=(r={})=>{const{getRootNode:o}=ie(),{dir:t}=he(),a={id:n.useId(),dir:t,getRootNode:o,value:r.defaultValue,...r},l={...a,value:r.value,onValueChange:de(r.onValueChange,{sync:!0})},[c,i]=ue(X(a),{context:l});return ee(c,i,pe)},M=n.forwardRef((r,o)=>{const[t,a]=B()(r,["defaultValue","id","ids","max","min","onValueChange","orientation","translations","value"]),l=ge(t),c=h(l.getRootProps(),a);return e.jsx(E,{value:l,children:e.jsx(d.div,{...c,ref:o})})});M.displayName="ProgressRoot";const G=n.forwardRef((r,o)=>{const[{value:t},a]=B()(r,["value"]),l=h(t.getRootProps(),a);return e.jsx(E,{value:t,children:e.jsx(d.div,{...l,ref:o})})});G.displayName="ProgressRootProvider";const O=n.forwardRef((r,o)=>{const t=D(),a=h(t.getTrackProps(),r);return e.jsx(d.div,{...a,ref:o})});O.displayName="ProgressTrack";const Y=n.forwardRef((r,o)=>{const{children:t,...a}=r,l=D(),c=h(l.getValueTextProps(),a);return e.jsx(d.span,{...c,ref:o,children:t||l.percentAsString})});Y.displayName="ProgressValueText";const{withProvider:Z,withContext:f,useStyles:Ae,PropsProvider:Te}=ne({key:"progress"});Z(G,"root",{forwardAsChild:!0});const De=Z(M,"root"),fe=f(H,"label",{forwardAsChild:!0}),Pe=f(O,"track",{forwardAsChild:!0}),je=f(z,"range",{forwardAsChild:!0});f(Y,"valueText",{forwardAsChild:!0});const w=n.forwardRef(function(o,t){return e.jsx(Pe,{...o,ref:t,children:e.jsx(je,{})})});n.forwardRef(function(o,t){const{children:a,info:l,...c}=o;return e.jsxs(fe,{...c,ref:t,children:[a,l&&e.jsx(le,{children:l})]})});const k=De,Ve=()=>{const r=te(),{id:o}=se(s=>s.user),[t,a]=n.useState(50),[l,c]=n.useState(50),[i,y]=n.useState(0),[m,A]=n.useState(0),[P,j]=n.useState(""),[T,V]=n.useState(!1),_=re("gray.100","gray.700"),C=[{id:1,title:"Крок 1: Тривожний ранок після свята",description:`
Учора він влаштував для тебе незабутній вечір на честь твого дня народження: 
свічки, музика, подарунки. Здавалося, нічого не може зіпсувати ці щирі миті. 
Але сьогодні зранку ти відчуваєш дивну напругу: 
очі в нього сумні, а на душі важкість, ніби він щось приховує. 
Ти здогадуєшся, що справа в тому випадковому поцілунку з іншим… 
Як поведешся тепер?
    `,options:[{text:"Сама заговорити про цей поцілунок і спробувати прояснити все",hopeDelta:2,trustDelta:3,heartacheDelta:0,outcome:"Ти проявляєш ініціативу, щоб не залишати простір для недомовок. Він слухає, хоч і болісно, але в очах з’являється іскорка розуміння."},{text:"Вдавати, що нічого не сталося, сподіваючись, що він забуде",hopeDelta:-2,trustDelta:-3,heartacheDelta:2,outcome:"Ти уникаєш теми, та бачиш, як його погляд щоразу повертається до цієї рани. Мовчання стає тягарем для обох."}]},{id:2,title:"Крок 2: Зізнання і перші сумніви",description:`
Він нарешті питає про поцілунок: «Що це означало для тебе?». 
Тепер тобі доводиться прямо відповідати. У душі змішується сором, легка образа, 
а також страх його реакції. Ваше кохання стоїть перед випробуванням недовірою. 
Що вирішиш?
    `,options:[{text:"Заспокоїти його, пояснити, що це не мало жодної глибокої емоції",hopeDelta:1,trustDelta:4,heartacheDelta:-1,outcome:"Ти визнаєш помилковість свого вчинку, намагаєшся повернути усе у звичне русло. Він трохи розслабляється, але тінь сумніву лишається."},{text:"Поставити зустрічне запитання: чи він сам колись не вагається?",hopeDelta:-1,trustDelta:-3,heartacheDelta:2,outcome:"Ти переходиш в оборону, намагаючись знайти в його діях щось подібне. Він відчуває несправедливість і біль наростає."},{text:"Попросити часу, щоб розібратися в собі, не даючи йому чіткої відповіді",hopeDelta:0,trustDelta:-1,heartacheDelta:1,outcome:"Ти відчуваєш внутрішню розгубленість і відкладаєш розмову на потім. Невідомість стає бар’єром між вами."}]},{id:3,title:"Крок 3: Початок війни",description:`
Країну застала війна. Новини про обстріли і небезпеку накочуються мов хвилі. 
На фоні цього ти відчуваєш, що ваші особисті негаразди вже не здаються такими 
великими, але все ж залишаються невирішеними. 
Якщо раніше можна було просто відвернутись і піти, 
то тепер страх за власне життя і життя близьких бере гору.
    `,options:[{text:"Відкласти всі сварки й об’єднатися, шукаючи шляхи евакуації разом",hopeDelta:3,trustDelta:5,heartacheDelta:-2,outcome:"Ти проявляєш солідарність, розуміючи, що зараз потрібна взаємна підтримка. Ваше кохання отримує шанс ще поборотися."},{text:"Вирішити діяти самостійно: зібрати речі й тікати будь-якою ціною",hopeDelta:-2,trustDelta:-4,heartacheDelta:3,outcome:"Ти обираєш інстинкт самозбереження, не дуже переймаючись його планами. Він відчуває відсторонення й розрив посилюється."}]},{id:4,title:"Крок 4: Дилема: лишатися чи виїхати?",description:`
Ситуація ускладнюється. Ти дізнаєшся, що в нього є ідея лишитися волонтерити чи 
допомагати в обороні міста. Саме в цей момент ти бачиш, 
що ваші погляди можуть розійтися остаточно. 
Чи підтримаєш його план, чи наполягатимеш на виїзді?
    `,options:[{text:"Підтримати його, сказати: «Якщо ти лишаєшся, я теж із тобою»",hopeDelta:4,trustDelta:3,heartacheDelta:-1,outcome:"Ти готова розділити з ним цей ризик. У ваші стосунки повертається відчуття спільної мети."},{text:"Закликати його не ризикувати й піти з тобою",hopeDelta:1,trustDelta:2,heartacheDelta:1,outcome:"Ти показуєш, що турбуєшся про його життя, але він вагається, чи зможе залишити рідний дім. Напруга зростає."},{text:"Прийняти рішення їхати самій, а його вибір хай буде його справою",hopeDelta:-3,trustDelta:-4,heartacheDelta:2,outcome:"Ти більше не хочеш сперечатися, приймаєш власне рішення. Прірва між вами починає збільшуватися."}]},{id:5,title:"Крок 5: Страх і сердечний біль",description:`
Минає кілька тижнів. Новини невтішні, небезпека зростає. 
Ти помічаєш, що він теж виснажений і невпевнений. 
У ваших стосунках досі болить тема того поцілунку — 
ніби маленька колючка, що час від часу нагадує про себе. 
Як поводишся, коли гіркота знову випливає у розмовах?
    `,options:[{text:"Замість обвинувачень, ти намагаєшся розвіяти його сумніви, визнаючи власні помилки",hopeDelta:3,trustDelta:4,heartacheDelta:-1,outcome:"Ти робиш крок до примирення. Хоча обом боляче, але щирість відкриває шлях для відновлення довіри."},{text:"Зриваєшся й дорікаєш, що він теж не ідеальний",hopeDelta:-1,trustDelta:-3,heartacheDelta:2,outcome:"Ваша розмова перетворюється на обмін старими образами. Почуття стають слабшими, а біль сильнішим."}]},{id:6,title:"Крок 6: Офіційне рішення про розрив (Літо 2022)",description:`
На дворі вже літо 2022-го. Події війни тривають, але ви одночасно 
зрозуміли, що втомилися від взаємних підозр, напруження і тривог. 
Постає думка: можливо, краще на якийсь час відпустити одне одного. 
Ви домовляєтеся, що офіційно «розходитеся». 
Що скажеш чи зробиш у цей момент?
    `,options:[{text:"Сказати йому, що все ще маєш теплі почуття, але потрібен час",hopeDelta:2,trustDelta:3,heartacheDelta:0,outcome:"Ти залишаєш двері привідкритими, визнаючи, що почуття не зникли, але зараз вони обтяжені обставинами."},{text:"Зробити вигляд, що тобі байдуже й ти легко можеш жити без нього",hopeDelta:-3,trustDelta:-4,heartacheDelta:3,outcome:"Ти приховуєш справжні емоції за маскою байдужості. Він також замикається в собі, відчуваючи втрату."},{text:"Поділитися з ним, що ця розлука може бути шансом подумати, як усе виправити",hopeDelta:3,trustDelta:4,heartacheDelta:-1,outcome:"Ти називаєш це «перервою» замість «кінець». Він на мить бачить надію, що це не остаточна крапка."}]},{id:7,title:"Крок 7: Фінальне прощання чи новий початок?",description:`
Остання розмова перед тим, як ваші дороги остаточно розійдуться. 
Він дивиться на тебе з сумом, а тобі болить у грудях від думки, 
що все могло бути інакше. Попри ваші розбіжності та війну, 
чи хочеш ти залишити маленький вогник надії? 
Або ж готова обірвати зв’язок остаточно?
    `,options:[{text:"Сказати йому: «Я завжди буду поруч, якщо ти покличеш»",hopeDelta:5,trustDelta:5,heartacheDelta:-2,outcome:"Ти даєш шанс майбутньому. У його очах мерехтить невимовна подяка, а твоє серце відчуває полегкість."},{text:"Попрощатися, не зачиняючи дверей, але без чітких обіцянок",hopeDelta:1,trustDelta:2,heartacheDelta:0,outcome:"Ти залишаєшся чесною: не обіцяєш нічого, бо сама не знаєш, що чекає попереду. Проте між вами лишається повага."},{text:"Рішуче відвернутися і піти, без жодного слова",hopeDelta:-5,trustDelta:-5,heartacheDelta:5,outcome:"Твої сльози змішані з образою. Ви розходитеся, так і не промовивши того, що могло б усе змінити."}]}],q=(s,u,R,U)=>{a(b(t+s,0,100)),c(b(l+u,0,100)),y(b(i+R,0,100)),j(U)},J=()=>{m<C.length-1?(A(m+1),j("")):V(!0)},K=()=>{let s="";return i>=70?s+="Емоційна рана виявилась надто глибокою. Наразі ваші шляхи справді розійшлися, залишивши слід суму й тихої туги. ":i>=30?s+="У серці залишилося відчутне щеміння, але воно не поглинуло тебе повністю. Є шанс, що з часом біль перетвориться на мудрість. ":s+="Тобі вдалося зберегти чимало світла всередині, і навіть переживши складні моменти, ти не дав(-ла) болю повністю перемогти любов. ",l>=70?s+="У ваших стосунках залишилося чимало взаєморозуміння, навіть попри негаразди. Можливо, у майбутньому на вас чекає нова сторінка... ":l>=30?s+="Довіра суттєво хитнулася, та все ж є підстави сподіватися, що колись ваші дороги зможуть перетнутися без образ. ":s+="Довіра сильно зруйнована; зараз ви стоїте на порозі цілковито різних шляхів. ",t>=70?s+="Твоє серце зберегло силу й оптимізм. Навіть у темряві ти бачиш нові можливості й готовий(-а) повірити в щось краще.":t>=30?s+="Ти почуваєшся втомлено. Проте іскорка надії не згасла остаточно і може знову яскраво спалахнути, якщо дати їй час. ":s+="Наразі ти майже зневірив(-ла)ся. Але час загоює навіть найглибші рани — можливо, одного дня промінь світла повернеться у твоє життя.",s},W=()=>{a(50),c(50),y(0),A(0),j(""),V(!1)},Q=async()=>{o&&await r(oe({chatId:o,chapter:ae.WAY_4}))};function b(s,u,R){return Math.max(u,Math.min(s,R))}const v=C[m];return e.jsxs(g,{bg:_,p:5,rounded:"md",shadow:"md",maxW:"650px",margin:"0 auto",children:[e.jsx(xe,{as:"h3",size:"lg",mb:3,textAlign:"center",children:"Випробування війною (Глава 4)"}),!T&&e.jsxs(e.Fragment,{children:[e.jsx(p,{fontSize:"lg",fontWeight:"bold",mb:2,children:v.title}),e.jsx(p,{fontSize:"md",mb:4,whiteSpace:"pre-line",children:v.description}),e.jsxs(S,{mb:4,p:4,align:"flex-start",children:[e.jsxs(g,{children:[e.jsxs(p,{fontWeight:"semibold",children:["Надія: ",t,"/100"]}),e.jsx(k,{value:t,maxW:"180px",children:e.jsx(w,{})})]}),e.jsxs(g,{children:[e.jsxs(p,{fontWeight:"semibold",children:["Довіра: ",l,"/100"]}),e.jsx(k,{value:l,maxW:"180px",children:e.jsx(w,{})})]}),e.jsxs(g,{children:[e.jsxs(p,{fontWeight:"semibold",children:["Серцевий біль: ",i,"/100"]}),e.jsx(k,{value:i,maxW:"180px",children:e.jsx(w,{})})]})]}),e.jsx(me,{p:3,mb:3,align:"stretch",children:v.options.map((s,u)=>e.jsx(x,{onClick:()=>q(s.hopeDelta,s.trustDelta,s.heartacheDelta,s.outcome),colorScheme:"blue",variant:"outline",style:{backgroundColor:"#0895c2",color:"white"},children:s.text},u))}),P&&e.jsxs(N,{status:"info",variant:"subtle",rounded:"md",mb:3,children:[e.jsx(F,{}),e.jsxs(I,{flex:"1",children:[e.jsx(L,{children:"Результат дії:"}),e.jsx($,{children:P})]})]}),e.jsxs(S,{p:4,children:[e.jsx(x,{style:{backgroundColor:"#0895c2"},variant:"outline",onClick:J,disabled:!P,children:m<C.length-1?"Наступний крок":"Завершити главу"}),e.jsx(x,{variant:"outline",style:{backgroundColor:"rgb(26, 26, 26)",color:"white"},onClick:W,children:"Скинути все"})]})]}),T&&e.jsxs(e.Fragment,{children:[e.jsxs(N,{status:"success",variant:"solid",mb:4,children:[e.jsx(F,{}),e.jsxs(I,{flex:"1",children:[e.jsx(L,{children:"Підсумок історії:"}),e.jsx($,{whiteSpace:"pre-line",children:K()})]})]}),e.jsxs(S,{p:4,children:[e.jsx(x,{colorScheme:"pink",style:{backgroundColor:"rgb(26, 26, 26)",color:"white"},onClick:Q,children:"Продовжити далі"}),e.jsx(x,{variant:"outline",style:{backgroundColor:"rgb(26, 26, 26)",color:"white"},onClick:W,children:"Пройти заново"})]})]})]})};export{Ve as default};
