import{r as i,m as c,j as n,a3 as $,a4 as E,G as O,I as S}from"./index-CxAWvqmu.js";import{a as u,s as f,u as g,P as h,b as z}from"./portal-DdzAeCQy.js";import{c as D}from"./create-slot-recipe-context-C3A_zzuP.js";import{c as L,b as a,d as M,u as B,e as G,f as H,g as W,n as q}from"./use-environment-context-DSpo5du1.js";const[m,d]=L({name:"PopoverContext",hookName:"usePopoverContext",providerName:"<PopoverProvider />"}),x=i.forwardRef((o,t)=>{const r=d(),e=c(r.getAnchorProps(),o);return n.jsx(a.div,{...e,ref:t})});x.displayName="PopoverAnchor";const w=i.forwardRef((o,t)=>{const r=d(),e=c(r.getArrowProps(),o);return n.jsx(a.div,{...e,ref:t})});w.displayName="PopoverArrow";const C=i.forwardRef((o,t)=>{const r=d(),e=c(r.getArrowTipProps(),o);return n.jsx(a.div,{...e,ref:t})});C.displayName="PopoverArrowTip";const j=i.forwardRef((o,t)=>{const r=d(),e=c(r.getCloseTriggerProps(),o);return n.jsx(a.button,{...e,ref:t})});j.displayName="PopoverCloseTrigger";const T=i.forwardRef((o,t)=>{const r=d(),e=u(),s=c(r.getContentProps(),e.getPresenceProps(),o);return e.unmounted?null:n.jsx(a.div,{...s,ref:M(e.ref,t)})});T.displayName="PopoverContent";const A=i.forwardRef((o,t)=>{const r=d(),e=c(r.getDescriptionProps(),o);return n.jsx(a.div,{...e,ref:t})});A.displayName="PopoverDescription";const R=i.forwardRef((o,t)=>{const r=d(),e=c(r.getIndicatorProps(),o);return n.jsx(a.div,{...e,ref:t})});R.displayName="PopoverIndicator";const y=i.forwardRef((o,t)=>{const r=d(),e=u(),s=c(r.getPositionerProps(),o);return e.unmounted?null:n.jsx(a.div,{...s,ref:t})});y.displayName="PopoverPositioner";const F=(o={})=>{const{getRootNode:t}=B(),{dir:r}=G(),e={id:i.useId(),dir:r,getRootNode:t,open:o.defaultOpen,"open.controlled":o.open!==void 0,...o},s={...e,open:o.open,onOpenChange:H(o.onOpenChange,{sync:!0})},[l,P]=W($(e),{context:s});return E(l,P,q)},J=o=>{const[t,{children:r,...e}]=f(o),s=F(e),l=g(c({present:s.open},t));return n.jsx(m,{value:s,children:n.jsx(h,{value:l,children:r})})},K=o=>{const[t,{value:r,children:e}]=f(o),s=g(c({present:r.open},t));return n.jsx(m,{value:r,children:n.jsx(h,{value:s,children:e})})},N=i.forwardRef((o,t)=>{const r=d(),e=c(r.getTitleProps(),o);return n.jsx(a.div,{...e,ref:t})});N.displayName="PopoverTitle";const I=i.forwardRef((o,t)=>{const r=d(),e=u(),s=c({...r.getTriggerProps(),"aria-controls":e.unmounted?void 0:r.getTriggerProps()["aria-controls"]},o);return n.jsx(a.button,{...s,ref:t})});I.displayName="PopoverTrigger";const{withRootProvider:b,withContext:p,useStyles:so,PropsProvider:io}=D({key:"popover"});b(K);const Q=b(J),U=p(I,"trigger",{forwardAsChild:!0}),V=p(y,"positioner",{forwardAsChild:!0}),X=p(T,"content",{forwardAsChild:!0}),Y=p(w,"arrow",{forwardAsChild:!0}),Z=p(C,"arrowTip",{forwardAsChild:!0});p(j,"closeTrigger",{forwardAsChild:!0});p(R,"indicator",{forwardAsChild:!0});p(N,"title",{forwardAsChild:!0});p(A,"description",{forwardAsChild:!0});p("footer","footer");p("header","header");p("div","body");p(x,void 0,{forwardAsChild:!0});function _(o){return O({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(o)}const oo=i.forwardRef(function(t,r){const{showArrow:e,children:s,portalled:l=!0,content:P,portalRef:k,...v}=t;return n.jsxs(Q,{...v,positioning:{...v.positioning,gutter:4},children:[n.jsx(U,{asChild:!0,children:s}),n.jsx(z,{disabled:!l,container:k,children:n.jsx(V,{children:n.jsxs(X,{width:"auto",px:"2",py:"1",textStyle:"xs",rounded:"sm",ref:r,children:[e&&n.jsx(Y,{children:n.jsx(Z,{})}),P]})})})]})}),po=i.forwardRef(function(t,r){const{children:e,...s}=t;return n.jsx(oo,{content:e,...s,ref:r,children:n.jsx(S,{variant:"ghost","aria-label":"info",size:"2xs",colorPalette:"gray",children:n.jsx(_,{})})})});export{po as I,oo as T};
